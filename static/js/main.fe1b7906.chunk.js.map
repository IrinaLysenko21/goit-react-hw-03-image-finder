{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App.module.css","services/api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","getImagesByQuery","searchQuery","pageNumber","axios","get","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","trim","this","className","styles","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","placeholder","onChange","Component","ImageGalleryItem","imageUrl","id","src","alt","ImageGalleryItem_image","ImageGallery","images","onClick","role","map","image","key","smallImg","Button","Loader","color","height","width","Modal","closeOnEscape","code","onCloseModal","handleCloseModal","currentTarget","window","addEventListener","removeEventListener","imageToOpen","Overlay","mapper","webformatURL","largeImg","largeImageURL","App","isLoading","isModalOpen","onSearch","a","then","data","prevState","hits","catch","error","Error","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","onSubmitSearchbar","query","onLoadMore","onClickOnGalleryItem","imageId","closest","find","Number","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.fe1b7906.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3faiC\",\"Modal\":\"Modal_Modal__1jz-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1JtSb\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3Jyjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__zOzDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1yTiD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__CM_oo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__39XPd\"};","import axios from 'axios';\n\nconst BASE_URL =\n  'https://pixabay.com/api/?key=13474351-0f8178f171730a48d774aad19&per_page=12&q=';\n\nconst getImagesByQuery = (searchQuery, pageNumber) =>\n  axios.get(`${BASE_URL} + ${searchQuery} + &page=${pageNumber}`);\n\nexport default getImagesByQuery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    if (value.trim() === '') return;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            value={value}\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imageUrl, id }) => (\n  <li id={id}>\n    <img src={imageUrl} alt=\"\" className={styles.ImageGalleryItem_image} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  imageUrl: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={styles.ImageGallery} onClick={onClick} role=\"presentation\">\n      {images.map(image => (\n        <ImageGalleryItem\n          key={`img-${image.id}`}\n          id={image.id}\n          imageUrl={image.smallImg}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      smallImg: PropTypes.string,\n      largeImg: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={styles.Button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.Loader}>\n      <LoaderComponent\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={100}\n        width={100}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onCloseModal: PropTypes.func.isRequired,\n    imageToOpen: PropTypes.string.isRequired,\n  };\n\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    const { onCloseModal } = this.props;\n    onCloseModal();\n  };\n\n  handleCloseModal = e => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    const { onCloseModal } = this.props;\n    onCloseModal();\n  };\n\n  render() {\n    const { imageToOpen } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        onClick={this.handleCloseModal}\n        role=\"presentation\"\n      >\n        <div className={styles.Modal}>\n          <img src={imageToOpen} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport getImagesByQuery from '../services/api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\nimport styles from './App.module.css';\n\nconst mapper = images => {\n  return images.map(\n    ({ id, webformatURL: smallImg, largeImageURL: largeImg }) => ({\n      id,\n      smallImg,\n      largeImg,\n    }),\n  );\n};\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: 'hello',\n    pageNumber: 1,\n    isLoading: false,\n    isModalOpen: false,\n    imageToOpen: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.onSearch(searchQuery, pageNumber);\n    }\n  }\n\n  onSearch = async (searchQuery, pageNumber) => {\n    this.setState({ isLoading: true });\n\n    await getImagesByQuery(searchQuery, pageNumber)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...mapper(data.hits)],\n        })),\n      )\n      .catch(error => {\n        throw new Error(error);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onSubmitSearchbar = query => {\n    this.setState({ searchQuery: query, images: [], pageNumber: 1 });\n  };\n\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  onCloseModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  onClickOnGalleryItem = e => {\n    const imageId = e.target.closest('li').id;\n    const { images } = this.state;\n    const imageUrl = images.find(image => image.id === Number(imageId))\n      .largeImg;\n\n    this.setState({ isModalOpen: true, imageToOpen: imageUrl });\n  };\n\n  render() {\n    const { images, isLoading, isModalOpen, imageToOpen } = this.state;\n\n    return (\n      <div className={styles.App}>\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal onCloseModal={this.onCloseModal} imageToOpen={imageToOpen} />\n        )}\n        <Searchbar onSubmit={this.onSubmitSearchbar} />\n        <ImageGallery images={images} onClick={this.onClickOnGalleryItem} />\n        {images.length > 0 && <Button onClick={this.onLoadMore} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'normalize.css';\nimport './style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2hQW4\",\"SearchForm\":\"Searchbar_SearchForm__OzL-F\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1v5gE\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2TxVN\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3pe5B\"};"],"sourceRoot":""}