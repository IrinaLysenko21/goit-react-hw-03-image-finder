{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App.module.css","services/api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/ArrowSign/ArrowSign.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ArrowSign/ArrowSign.module.css"],"names":["module","exports","getImagesByQuery","searchQuery","pageNumber","axios","get","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","trim","this","className","styles","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","placeholder","onChange","Component","ImageGalleryItem","imageUrl","id","src","alt","ImageGalleryItem_image","ImageGallery","images","onClick","role","map","image","key","smallImg","ArrowSign","wrapper","xmlns","viewBox","arrow","d","fill","text","Button","Loader","color","height","width","Modal","closeOnEscape","code","onCloseModal","handleCloseModal","currentTarget","window","addEventListener","removeEventListener","imageToOpen","Overlay","mapper","webformatURL","largeImg","largeImageURL","App","isLoading","isModalOpen","newSearch","onSearch","a","then","res","prevState","data","hits","catch","error","Error","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","onSubmitSearchbar","query","onLoadMore","onClickOnGalleryItem","imageId","closest","find","Number","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.fe85fa90.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3faiC\",\"Modal\":\"Modal_Modal__1jz-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1JtSb\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3Jyjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__zOzDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1yTiD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__CM_oo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__39XPd\"};","import axios from 'axios';\n\nconst BASE_URL =\n  'https://pixabay.com/api/?key=13474351-0f8178f171730a48d774aad19&per_page=12&q=';\n\nconst getImagesByQuery = (searchQuery, pageNumber) =>\n  axios.get(`${BASE_URL} + ${searchQuery} + &page=${pageNumber}`);\n\nexport default getImagesByQuery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    if (value.trim() === '') return;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            value={value}\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imageUrl, id }) => (\n  <li id={id}>\n    <img src={imageUrl} alt=\"\" className={styles.ImageGalleryItem_image} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  imageUrl: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={styles.ImageGallery} onClick={onClick} role=\"presentation\">\n      {images.map(image => (\n        <ImageGalleryItem\n          key={`img-${image.id}`}\n          id={image.id}\n          imageUrl={image.smallImg}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      smallImg: PropTypes.string,\n      largeImg: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './ArrowSign.module.css';\n\nconst ArrowSign = () => (\n  <div className={styles.wrapper}>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 408 408\"\n      className={styles.arrow}\n    >\n      <path d=\"M102 204H0L204 0l204 204H306v204H102z\" fill=\"#919191\" />\n    </svg>\n    <p className={styles.text}>Enter your search query</p>\n  </div>\n);\n\nexport default ArrowSign;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={styles.Button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.Loader}>\n      <LoaderComponent\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={100}\n        width={100}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onCloseModal: PropTypes.func.isRequired,\n    imageToOpen: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    const { onCloseModal } = this.props;\n    onCloseModal();\n  };\n\n  handleCloseModal = e => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    const { onCloseModal } = this.props;\n    onCloseModal();\n  };\n\n  render() {\n    const { imageToOpen } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        onClick={this.handleCloseModal}\n        role=\"presentation\"\n      >\n        <div className={styles.Modal}>\n          <img src={imageToOpen} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport getImagesByQuery from '../services/api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ArrowSign from './ArrowSign/ArrowSign';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\nimport styles from './App.module.css';\n\nconst mapper = images => {\n  return images.map(\n    ({ id, webformatURL: smallImg, largeImageURL: largeImg }) => ({\n      id,\n      smallImg,\n      largeImg,\n    }),\n  );\n};\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    pageNumber: 1,\n    isLoading: false,\n    isModalOpen: false,\n    imageToOpen: null,\n    newSearch: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber, newSearch } = this.state;\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber ||\n      prevState.newSearch !== newSearch\n    ) {\n      this.onSearch(searchQuery, pageNumber);\n    }\n  }\n\n  onSearch = async (searchQuery, pageNumber) => {\n    this.setState({ isLoading: true });\n\n    await getImagesByQuery(searchQuery, pageNumber)\n      .then(res => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...mapper(res.data.hits)],\n        }));\n      })\n      .catch(error => {\n        throw new Error(error);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onSubmitSearchbar = query => {\n    this.setState(prevState => {\n      return {\n        searchQuery: query,\n        images: [],\n        pageNumber: 1,\n        newSearch: !prevState.newSearch,\n      };\n    });\n  };\n\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  onCloseModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  onClickOnGalleryItem = e => {\n    const imageId = e.target.closest('li').id;\n    const { images } = this.state;\n    const imageUrl = images.find(image => image.id === Number(imageId))\n      .largeImg;\n\n    this.setState({ isModalOpen: true, imageToOpen: imageUrl });\n  };\n\n  render() {\n    const { images, isLoading, isModalOpen, imageToOpen } = this.state;\n\n    return (\n      <div className={styles.App}>\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal onCloseModal={this.onCloseModal} imageToOpen={imageToOpen} />\n        )}\n        <Searchbar onSubmit={this.onSubmitSearchbar} />\n        {images.length === 0 && <ArrowSign />}\n        {images.length > 0 && (\n          <>\n            <ImageGallery images={images} onClick={this.onClickOnGalleryItem} />\n            <Button onClick={this.onLoadMore} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'normalize.css';\nimport './style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2hQW4\",\"SearchForm\":\"Searchbar_SearchForm__OzL-F\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1v5gE\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2TxVN\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3pe5B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ArrowSign_wrapper__21dXM\",\"arrow\":\"ArrowSign_arrow__20k37\",\"text\":\"ArrowSign_text__1X9tV\"};"],"sourceRoot":""}